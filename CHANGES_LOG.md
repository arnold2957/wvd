**新版本!**
==v1.7.12==
在开启adb服务前尝试关闭adb.

**已知问题**
豪华房的图片替换.

开箱快结束的时候遇到善恶怪物卡死.
配置自定义序列的面板.
录制屏幕优化.
花洞任务.
按目标储存配置.

**历史更新**
==v1.7.11==
优化了自动战斗按钮的检测, 以避免某些场景下的脚本卡死.

==v1.7.10==
增加了对cv2错误的警告.
增加了启动adb相关进程时的命令保存.

==v1.7.9==
修复了中文路径下adb无法启动的问题.

==v1.7.8==
修复了adb.exe无法启动的问题.

==v1.7.7==
优化了adb和模拟器重启的函数.

修复了再起后对于宝箱和战斗的计数器会额外加1的bug.
优化了mp不足导致的卡死问题.
修复了开启地图后被拉入战斗, 会错误的认为已经抵达目标点的bug.
调整了战斗卡死的判断时间, 以防止在多轮次的击退敌势力中错误的判断为卡死导致的退出.
新增了休息次数可以对刷巨人生效.

==v1.7.6==
新增了对于7f巨人的刷取(来自[@请问您今天要来点百智睡法吗？]).
新增了自定义序列施法的功能. 该功能可以自定义到达一个目标点后第一场战斗的特定施法顺序.

==v1.7.5==
新增了初始深渊3f哥布林洞窟逛街的任务. 用于刷取善恶与遗物.
新增了重启模拟器前尝试结束已经存在的模拟器进程.
新增了施法序列的配置功能.
修复了有时卡在登录界面无法进入游戏的问题.
修复了当adb中有多个设备的时候, 只会链接第一个设备的问题.(来自[@sleepingcat103]和[@Kagarino])
删除了开箱的石化检查部分. 现在指定开箱人选只会在首次选择中生效.

==v1.7.4==
新增了log保存功能. 现在会保存3天内的log和截图.
新增了对于空白retry的点击.
修复了牛洞有时无法接取任务的bug. 任务数量多了, 滑动一次不能划到底了.
修复了左下角没人导致无法恢复的问题. 现在会把三个后排都点一遍.
修复了约定之剑的因果无法切换的问题.
修复了牛洞的因果会连带约定剑的因果一起切换的问题.
调整了进入大世界的按钮的识别图, 以便修复偶尔进入大世界后立刻退出的问题.
修复了当config里记录的任务名不存在的时候无法启动脚本的问题.
新增了启动任务时对任务名的播报.

===v1.7.3===
修复了恢复有可能导致战斗卡死的问题.
修复了击退敌势力第二轮无法继续的问题.
修复了开箱子有时会点到技能导致卡死的问题.

===v1.7.2===
修复了击退敌势力卡死的情况.

==v1.7.1==
修复了击退敌势力的战斗阶段无法识别的问题.
修复了mumu12adb无法启动的问题.
修复了mumu12有时会因为恢复导致卡战斗的问题.

==v1.7.0==
现已支持mumu模拟器! 请尽快使用mumu模拟器, 蓝叠将在一段时间后不再维护!
mumu可以使箱子效率增加~20%. 因为mumu具有极快的点击响应(超绝敏感mumu酱x).
注意, 换新模拟器后要重新勾选恢复界面的"驱散异常状态".

修复了mumu的自动平a会无法取消的问题.
修复了mumu的恢复无法退出的问题.
修复了mumu有时会无法自动移动的问题.
修复了mumu有时会在点击到左上角技能的问题.
修复了智能开箱失败的问题.
修复了宝箱会在石化后卡死的问题.
修复了宝箱后不恢复的问题.
删除了在恢复后尝试resume的功能.
修复了在7000G在某个环节重启后无法恢复的问题.

==v1.6.5==
优化了开箱子. 开箱子从平均大约25秒提升到了平均大约18秒. (感谢[@请问您今天要来点百智睡法吗？ ])
优化了离别洞窟的地图搜索的方向, 现在大约每次能节约10秒的地图拖动时间.
加入了只刷离别洞窟2f的简短任务.

==v1.6.4==
修复了在开箱被石化后不能复活的问题.
修复了法力不足的弹窗无法关闭的问题.

==v1.6.3==
再次优化了开箱子.
现在约定剑任务不会再修复哈肯, 而是通过步行返回.
修复地图滑动有时失效的问题.
修复了约定剑的对话卡死的问题.

==v1.6.2==
优化了开箱子. 开箱子从平均大约30秒提升到了平均大约25秒.
修复了当遇到某些特殊对话需要退出时, 没有成功退出, 反而执行了截图检查并导致脚本卡死的问题.
修复了在计算平均开箱和平均战斗的时候箱子数和战斗数为0引发的除0错误.

==v1.6.1==
现在使用精确的楼层匹配。
优化了统计文本.将占比改为平均用时。

==v1.6.0==
新增了离别洞窟的2f+3f刷怪任务.
新增了离别洞窟-约定剑的任务. 尚未优化, 可能存在不少问题, 请谨慎尝试.
新增了"强制停止关键词". 当捕获到其中的内容后, 会尝试停止脚本任务.
修复了当法力不足全体aoe没有成功释放的时候也会认为释放成功并不再释放更多aoe的问题, 现在全体aoe回检测点按'ok'后才认为释放成功.
修复了转要钱后计数错误的问题.
修复了牛洞任务会因为新洞而无法开始的问题.
修复了没有sp释放技能时, 确认框不会取消的问题. 现在在双击自动前, 会尝试关闭确认窗口.
优化了约定剑任务的1f->2f流程.

==v1.5.6==
加入了一层新的adb挂起检测. 之前的似乎不起作用.
修改了adb路径的输入窗口, 现在为模拟器路径.
更新了自定义扫图任务的wiki说明.
加入了mp不足的检测。

==v1.5.5==
新增尝试启动/重启模拟器. 注意，默认adb和模拟器位于同一个文件夹。之后会把文本“adb路径”修改为模拟器路径。
增加adb指令的超时检查，以避免偶发的无限挂起。
修改了牛洞的任务文本图片，一个没人看的任务改了两次，真是闲的。

==v1.5.4==
修复了鸟剑的图片名称错误。
删除了要塞3f，并将作为例子保留在wiki中。
加入了忍洞1f全拿，即刷怪加宝箱。

==v1.5.3==
加入了无头模式. 在快捷方式中的"目标"一栏中加入 -headless来启动无头模式, 同时加入 -config=路径 来指定特定的config配置文件.
增加了对牛洞是否已经接取任务的检查.
增加了土洞和风洞的宝箱搜索环节, 产量得到了略微提升.
修复了卡死检测的文本错误.

==v1.5.2==
修复了接取牛洞任务有时候会失败的问题.
重写了对于副本内卡死的检测.
修复了开箱卡死还是不能检测的问题.

==v1.5.1==
修复了没火转要钱的图片判断不正确导致无法转的问题.
增加了对转要钱之前的摘要的显示.

==v1.5.0==
重大更新: 现在没火了以后会开始要钱. 注意部分时间线可能尚未开启地图导致要钱卡死.
新增了战斗(宝箱)计时器超过一定数值(300)后强制重启的功能, 以覆盖更多的卡死场景.
新增了快进的检查功能, 可以自动开启对话的快进功能.
修改了住宿的检查逻辑, 以解决可能的在economy处卡死的问题.
修改了resume的点击逻辑, 现在只有在发生了战斗或宝箱后再点击resume.
修复了敌势力固定在打完第一波之后报错停止.
修改了击退敌势力的目标点.

==v1.4.8==
现在可以检测楼层标识, 以提高跨楼层移动的检测准确性.
修复了船2会从下面的哈肯进入的问题.
修复了智能开箱不可用的问题.
修复了"仅仅释放一次aoe"首次读取时的显示不正确.

==v1.4.7==
进行了数据分离. 现在可以在resource/quest/quest.json里查看或修改目前所有刷怪任务的信息.
修复了勾选自动后取消勾选, 激活的技能列表事实上清空了的问题.
修复了击退敌势力没有检查retry的问题.
修复了新版本后牛洞任务无法接取的任务.
增加了备用的用于替换的三牛跳跃目标-凯旋.
已经从任务列表中删除了船一.

==v1.4.6==
对[船2],[忍洞-刷怪],[角鹫之剑任务]应用了新版的地图检索, 现在应当不会在其中卡住.
新增了额外的小窗, 专门用于显示统计数据.
新增了额外的检查以避免进入副本时游戏本体闪退导致的卡死.
现在捕获所有adb操作的异常. 如果遇到无法解决的adb问题, 烦请告知.

==v1.4.5==
新增了设置之间的联动, 现在勾选"仅使用一次aoe"后会自动勾选两种全体aoe.
修改了定点任务的逻辑. 现在应当不会在[三牛],[忍洞],[击退任务],[火洞]中卡住.
修改了随机开箱的触发门槛. 现在开箱失败2次就会变为随机开箱.
新增了一个战斗标识, 以解决水路1卡战斗的问题.
修复了居合被错误当作全局aoe的问题.
修复了击退敌势力的中断, 优化了战斗阶段.
修改了所有checkbutton的风格. 现在勾选后文本会变为蓝色.
修改了技能配置的按钮, 现在为checkbutton.
关闭了启用adb服务时的shell, 以防止注入和其他错误.

==v1.4.3==
新增了忍洞"重置1F刷取3个金箱"的任务.
新增了对底层的adb device shell加了额外的adb错误检测, 以避免adb异常导致的中断.
新增了乌鸦男的专属技能, 在强力单体中. (抱歉我真的不记得他叫什么了.)
新增了武士的居合,在强力单体中.
修复了船2等地图有时会不找宝箱直接退出的问题.
修改了对于固定箱子任务的检测逻辑.
重构了底层的StateDungeon.
重构了技能配置按钮.

==v1.4.2==
修复了战斗系统的一系列问题.现在使用更加清晰的战斗设置面板.

==v1.4.1==
修复了一闪导致的错误的自动战斗.
修复了工会接取任务有时候失败的问题, 通过接取任务时滑动界面的位置, 以避免按到奖励一栏导致无法滑动.

==v1.4.0==
现在对忍洞进行了优化.
再次对忍洞进行了优化.
新增了当一次副本没有战斗也没有宝箱的时候, 不会住宿的机制.
新增了战斗和宝箱统计, 以及战斗和宝箱在总时间中的占比.
新增了"锁身刺DTS""穿铠AP"在强力单体分类中.
新增了当sp不足的时候可以切换技能等级为lv1的逻辑.
优化了无需等待后的判断逻辑, 现在不会返回到none状态而是继续map状态.
优化了目标点搜索的逻辑. 现在可以将目标点的roi设定为default, 以忽略地图移动箭头并跳过二次确认.
现在自动战斗不会被脚本自己打断(感谢@煎饼快跑 和 @五大湖).
修复了任务无法被中断按钮中断的问题.
修复了旅店休息自选entry初始化不正确

下版本预定:
将副本搜索目标参数改为字典而非全局. 以便解决多目标任务/刷图重启后的进度不正确.

==v1.3.1==
修改了忍洞中忽略的地图. 现在会检查尽可能多的地块.
修复了低意志无法进入鸟剑任务的问题.
修复了无法在要塞关闭队伍详情进入大世界的问题. 现在会同时检查王城和要塞的"关闭队伍详情按钮."

==v1.2.5==
新增了三牛任务! 想要了解更多细节, 请访问github.
新增了战斗配置:首次全体aoe释放后自动战斗. 注意, 在全体aoe释放前, 依旧遵循战斗面板的配置.
新增了手动下载和自动下载按钮. 现在检测到新版本的时候不会弹窗.
新增了"跳过旅店恢复"的按钮. 该按钮可以跳过刷图和部分任务的旅店恢复环节.
修复了三牛的重启逻辑. 现在重启后脚本不会停止.
优化了关闭操作. 现在关闭主面板会退出整个进程.
优化了技能指定对象的逻辑.
优化了寻路达到目标地点后的等待环节.
优化了恢复人选, 现在恢复人选固定为左上(而非之前的中上).
[来自@煎饼快跑] 打怪开箱后优先恢复自动寻路.


==v1.2.4==
修复了版本号读取错误的问题.
增加了LAFERU.

==v1.2.3== 
现已添加用于显示下载进度的进度条!
现已更改了版本号的逻辑, 现在使用更加通用的Sem Ver版本号.
现已添加了可以统计本次刷取总耗时的计时器.

==v1.2.2==
现已添加了"跳过宝箱后恢复"的设置. 勾选该选项后, 在开启宝箱后不会进行恢复.
修复了随机开箱会反复用135号位尝试的问题. 现在随机开箱是真随机, 且如果指定了人选且超过尝试次数, 会在排除了指定人选后随机挑选.
修复了无法识别到returnText图片导致卡死的问题.
修复了7000G里如果退出要塞失败, 脚本会立刻进行下一个步骤导致卡死. 现在会反复尝试退出要塞直到真的退出要塞.
修改了7000G里的部分逻辑. 现在应该能正常的重置重启后的进度.
修复了击退敌势力会在进入任务地点和返回时遇到npc导致卡死的问题.

==v1.2.1==
现已改为下拉框来选择开箱人选.
现已改为下拉框来调整善恶值.
现在开箱子时, 脚本经过若干次尝试后可以退出循环, 以避免游戏卡死导致的脚本无限循环.
现在当多次检查地图前发现地图画面完全一致, 会认定为卡死并重启游戏.
修复了如果没有保存过善恶值, 首次遇到伏击会卡死的问题.
修复了伏击出现时, 条件判断错误会导致卡死的问题.

==v1.2.0==
现在更新后会弹窗展示更新公告.
现已加入对善恶值的调整. 调整会不断减少, 并最终在0附近变动.
强力单体已经加入重装1🐓!
在限定地图roi的情况下, 跳过了二次确认.
击退敌势力的目标点往前调整一格, 以避免刷出npc导致流程中断.
修改了如果没有任何保存会导致config中没有karma_adjust的错误.

==v1.1.9==
修改了任务名称. (注意, 新版本需要手动重新选择一次任务.)
修改了战斗标识符的检测图片, 以提高检测准确度.
修复了沙影洞有时会检测不可前往的地区.
修复了游戏闪退后无法重启(只会报横屏)的问题.

==v1.1.8==
现在可以从github上拉取更新.
加入了沙影洞! 请确保开启了尽可能多的第一层的地图. 该地图的住宿旅店为要塞, 请确保要塞可见.
需要开启的地图见附图.

==v1.1.7==
现在可以从github下载最新版本.
修复了7000g会卡祝福的问题, 通过在地下城环节加入额外的'blessing'字段检测.
修复了击退敌势力的低坚韧弹窗不会点击的问题.

==v1.1.6==
现在截图后会检查截图尺寸, 以解决游戏闪退导致的截图尺寸不匹配引发的崩溃. 另外, 补充了在地下城的默认状态检查环节时重启后可以正确重置进度.
现在截图后会检查截图数据是否存在, 以解决adb异常导致空数据后引发的cv2错误.
(并非更新) 如果叶卡任务的洞窟导致的脚本卡死, 请在完成了叶卡专属任务后重新使用脚本.

==v1.1.5==
修复了花洞导致的王城无法识别
增加了群体控制类(cc\_skills), 该类别具有最高优先级, 但目前只有卡恩提欧斯(kantios).
缩小了宝箱的地图检测范围.
修复了7000G的计时错误.
修复了(并不存在的)鸟剑的计时错误. 现在可以显示单次鸟剑的耗时.
修复了1.1.4新增的重启尝试次数增加机制没有正确生效的问题. 现在会在20次尝试后重启, 每次重启都会增加5次尝试次数, 最多50次

==v1.1.4==
调整了鸟洞等多宝箱地图的检测范围. 现在还会剔除上方和下方箭头.
修改了重启机制, 现在会在20次尝试后重启, 每次重启失败, 尝试次数会+5. 以解决因为设备问题导致的反复重启.

==v1.1.3==
增加了adb异常中adb设备丢失的问题.
调整了智能开箱时的按钮位置, 现在智能开箱也能点击retry了.(因为两个按钮有重合.)
修复了鸟洞等多宝箱的地图, 地图拖动后会选择位于不可交互的按钮下的宝箱导致的卡死问题.
  实现方式为删除了地图的左右按钮区域.

==v1.1.2==
 - 在部分情况下, 针对adb掉线的问题, 增加了重启的判断. 目前该功能测试中, 如果遇到更多相关问题, 欢迎反馈!
 - 光洞改为寻找宝箱的模式. 由于群主进度问题无法测试, 如果遇到更多相关问题, 欢迎反馈!
 - 在群体aoe中增加了拉哈黎透.

==v1.1.1==
增加了对github的链接.
增加了对to title的点击
修复了7000G会卡诅咒之轮的问题.
在火洞 土洞和风洞中, 强制锁定自动战斗.

==v1.1.0===
修改了模板匹配的roi部分, 现在支持额外剔除一部分区域.
在此基础上, 忽略了船2左边中部的箱子导致的卡死.
加入了风洞. 风洞是要塞3一样的开箱子型任务.
加入了要塞3. 要塞3是风洞一样的开箱子型任务.
现在, 当同时有多个角色死亡, 会尝试自杀, 方式包括尽可能的拉人来触发死亡, 以及在战斗中选择防御. 注意, 该功能测试困难, 如果你遇到可能是该功能引发异常情况, 请保留log和截图.

==v1.0.1==
修复了在第二机关开启前意外重启后脚本无法继续运行的问题.
已将所有cmd的输出复制到log.txt中. 之后不用再发cmd了!

==v1.0.0==
角鹫之剑的全自动刷取功能.
注意, 当前版本仍然有一定几率会在第一个陷阱处卡死, 以及在修复哈肯的时候死亡. \*(将会在未来版本修复!)\*

==v0.5.2.3==
光洞增加了一个目标点.
卢比肯洞窟在进入时, 有时会无法判定导致重启的问题.

==v0.5.2.2==
修复了在第二章选择非王女线在要钱的时候会卡住的问题.
在强力单体中加入了星光裂.

==v0.5.2==
角鹫之剑测试版已经加入! 请查看公告.
修复了牛洞结束后可能因为无法返回王城导致反复重启的问题.
修复了对于战斗计数的显示错误.
修复了在第二章选择非王女线在要钱的时候会卡住的问题.

==v0.5.1==
现在不会进本恢复, 而是宝箱后恢复(必定)和战斗后恢复(可选).
因为实现了以上功能, 所以顺便加了宝箱统计和战斗次数统计.
修复了技能释放不按照顺序进行检测的问题.
修复了船2 船1 鸟洞等等无法正常运行的逻辑.
(果然开始主修bug是对的)

==v0.5==
修复了鸟洞后无法继续鸟洞的问题.

==v0.4.6.6==
修复了水路三个任务的名称错误问题.
击退敌势力增加了一个判定点以绕过上船对话.
王女要钱的第四部分加入了标志以便重启后可以正确的获取进度
删除了nearTown状态, 现在无论如何都会返回主城,并在旅店门口决定要不要住宿(而不是像之前一样在城市边缘决定). 这项修改旨在简化回城时的判断, 以兼容卢比肯和水路等等.

==v0.4.6.5==
现已加入"击退敌势力". 流程不包括时间跳跃和接取任务, 请确保接取任务后再开启!
现在遇到retry会显示提示.
游戏长时间处于黑屏时会显示提示.
火洞增加了一个目标点,
修改了在开箱时遇到网络故障的问题.
修复了7000G中如果在进入王都时卡死, 游戏重启后无法进入游戏的问题.
体术已改名为强力单体技能, 目前已添加浑身一击(全力一击, fps)和扎兹里克(tzalik)

==v0.4.6.4==
随机开箱已改为智能开箱, 选项的效果也相反了.
并非bug: 7000G卡在王城是埃尔蒙死了+开启了自动选择对话导致的. 关闭自动选择对话可以解决.
鸟洞牛洞等需要进入大地图的刷怪任务不能正确的启用旅店休息间隔.
鸟洞无法在跳过休息时正确的再次开始.
修改了鸟洞搜索哈肯时的搜索顺序, 现在从左下角开始, 以防止左上角的假哈肯干扰搜索.
如果自动移动无法开始而重启, 重启后会不断点击左上角来进入游戏.
在重启前, 对屏幕进行截图.

==v0.4.6.3==
修改了恢复逻辑, 现在进本和开宝箱后必恢复. 界面按钮控制战斗后是否恢复.
修复了频繁重启的问题.
卡死检测增加到10秒, 以避免偶发的战斗中误判导致重启的问题.

==v0.4.6.2==
修复了找皇女要钱的计数器错误.
修改了recover的逻辑.
修改了在地下城仅剩一个目标的时候错误的删除目标导致流程中断.
在开箱检测流程中里加入了对第二个宝箱的检测.

==v0.4.6.1==
修复无法开始(没有排除targetdir为None导致脚本卡死).
修复卢比肯洞窟的退出目标点错误地被设置为哈肯.

==v0.4.6.0==
地下城多目标寻路,
船2开箱优化(现在从船1上去),
皇女要钱在开始时卡死.

==v0.4.5==
修改了recover逻辑,
增加了光洞的刷怪.

==v0.4.4==
增加了log系统, 现在具有更加干净的用户提示.

==v0.4.3==
增加了鸟洞3f的开宝箱刷怪.

==v0.4.0==
新地图:
1\. 皇女要钱7000G, 平均每小时获取大约20wG.
2\. 火洞-
3\. 土洞-平均每个土矿石大约耗时214秒
新功能:
4\. 模拟器设置提示;
5\. 模拟器端口配置界面;
6\. 网络异常时, 在绝大多数情况下会自动点击'retry'; 超过点击次数时会自动重启
bug修复:
7\. 图片读取失败, adb链接失败时的异常提示;
8\. 技能识别失败(参考"确保"第9条). 该游戏内4个快捷栏的字体字号大小不一致, 放在左上快捷栏会干扰识别;
9\. 旅店住宿后会错误点击到角色详情界面;
10\. 和部分npc的对话会卡住.
